!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SanityClient=t()}}((function(){return function t(e,r,n){function o(s,a){if(!r[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(i)return i(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[s]={exports:{}};e[s][0].call(l.exports,(function(t){return o(e[s][1][t]||t)}),l,l.exports,t,e,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(t,e,r){"use strict";function n(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var r=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=r){var n,o,i=[],s=!0,a=!1;try{for(r=r.call(t);!(s=(n=r.next()).done)&&(i.push(n.value),!e||i.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==r.return||r.return()}finally{if(a)throw o}}return i}}(t,e)||function(t,e){if(t){if("string"==typeof t)return o(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?o(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var i=t("object-assign"),s=t("../util/observable"),a=s.map,c=s.filter,u=t("../http/queryString"),l=t("../validators");function f(t){this.client=t}function p(t,e){return"undefined"!=typeof window&&e instanceof window.File?i({filename:!1===t.preserveFilename?void 0:e.name,contentType:e.type},t):t}i(f.prototype,{upload:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};l.validateAssetType(t);var n=r.extract||void 0;n&&!n.length&&(n=["none"]);var o=l.hasDataset(this.client.clientConfig),i="image"===t?"images":"files",s=p(r,e),u=s.tag,f=s.label,d=s.title,h=s.description,b=s.creditLine,y=s.filename,v=s.source,g={label:f,title:d,description:h,filename:y,meta:n,creditLine:b};v&&(g.sourceId=v.id,g.sourceName=v.name,g.sourceUrl=v.url);var m=this.client._requestObservable({tag:u,method:"POST",timeout:s.timeout||0,uri:"/assets/".concat(i,"/").concat(o),headers:s.contentType?{"Content-Type":s.contentType}:{},query:g,body:e});return this.client.isPromiseAPI()?m.pipe(c((function(t){return"response"===t.type})),a((function(t){return t.body.document}))).toPromise():m},delete:function(t,e){console.warn("client.assets.delete() is deprecated, please use client.delete(<document-id>)");var r=e||"";return/^(image|file)-/.test(r)?t._id&&(r=t._id):r="".concat(t,"-").concat(r),l.hasDataset(this.client.clientConfig),this.client.delete(r)},getImageUrl:function(t,e){var r=t._ref||t;if("string"!=typeof r)throw new Error("getImageUrl() needs either an object with a _ref, or a string with an asset document ID");if(!/^image-[A-Za-z0-9_]+-\d+x\d+-[a-z]{1,5}$/.test(r))throw new Error('Unsupported asset ID "'.concat(r,'". URL generation only works for auto-generated IDs.'));var o=n(r.split("-"),4),i=o[1],s=o[2],a=o[3];l.hasDataset(this.client.clientConfig);var c=this.client.clientConfig,f=c.projectId,p=c.dataset,d=e?u(e):"";return"https://cdn.sanity.io/images/".concat(f,"/").concat(p,"/").concat(i,"-").concat(s,".").concat(a).concat(d)}}),e.exports=f},{"../http/queryString":13,"../util/observable":21,"../validators":24,"object-assign":46}],2:[function(t,e,r){"use strict";function n(t){this.client=t}t("object-assign")(n.prototype,{getLoginProviders:function(){return this.client.request({uri:"/auth/providers"})},logout:function(){return this.client.request({uri:"/auth/logout",method:"POST"})}}),e.exports=n},{"object-assign":46}],3:[function(t,e,r){"use strict";var n=t("object-assign"),o=t("./generateHelpUrl"),i=t("./validators"),s=t("./warnings"),a={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,isPromiseAPI:!0},c=["localhost","127.0.0.1","0.0.0.0"];r.defaultConfig=a,r.initConfig=function(t,e){var u=n({},e,t);u.apiVersion||s.printNoApiVersionSpecifiedWarning();var l=n({},a,u),f=l.useProjectHostname;if("undefined"==typeof Promise){var p=o("js-client-promise-polyfill");throw new Error("No native Promise-implementation found, polyfill needed - see ".concat(p))}if(f&&!l.projectId)throw new Error("Configuration must contain `projectId`");var d="undefined"!=typeof window&&window.location&&window.location.hostname,h=d&&function(t){return-1!==c.indexOf(t)}(window.location.hostname);d&&h&&l.token&&!0!==l.ignoreBrowserTokenWarning?s.printBrowserTokenWarning():void 0===l.useCdn&&s.printCdnWarning(),f&&i.projectId(l.projectId),l.dataset&&i.dataset(l.dataset),"requestTagPrefix"in l&&(l.requestTagPrefix=l.requestTagPrefix?i.requestTag(l.requestTagPrefix).replace(/\.+$/,""):void 0),l.apiVersion="".concat(l.apiVersion).replace(/^v/,""),l.isDefaultApi=l.apiHost===a.apiHost,l.useCdn=Boolean(l.useCdn)&&!l.withCredentials,r.validateApiVersion(l.apiVersion);var b=l.apiHost.split("://",2),y=b[0],v=b[1],g=l.isDefaultApi?"apicdn.sanity.io":v;return l.useProjectHostname?(l.url="".concat(y,"://").concat(l.projectId,".").concat(v,"/v").concat(l.apiVersion),l.cdnUrl="".concat(y,"://").concat(l.projectId,".").concat(g,"/v").concat(l.apiVersion)):(l.url="".concat(l.apiHost,"/v").concat(l.apiVersion),l.cdnUrl=l.url),l},r.validateApiVersion=function(t){if("1"!==t&&"X"!==t){var e=new Date(t);if(!(/^\d{4}-\d{2}-\d{2}$/.test(t)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}}},{"./generateHelpUrl":10,"./validators":24,"./warnings":25,"object-assign":46}],4:[function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=t("object-assign"),i=t("../util/observable"),s=i.map,a=i.filter,c=t("../validators"),u=t("../util/getSelection"),l=t("./encodeQueryString"),f=t("./transaction"),p=t("./patch"),d=t("./listen"),h=function(t,e){return!1===t?void 0:void 0===t?e:t},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{dryRun:t.dryRun,returnIds:!0,returnDocuments:h(t.returnDocuments,!0),visibility:t.visibility||"sync",autoGenerateArrayKeys:t.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:t.skipCrossDatasetReferenceValidation}},y=function(t){return"response"===t.type},v=function(t){return t.body},g=function(t,e){return t.reduce((function(t,r){return t[e(r)]=r,t}),Object.create(null))},m=function(t){return t.toPromise()};e.exports={listen:d,getDataUrl:function(t,e){var r=this.clientConfig,n=c.hasDataset(r),o="/".concat(t,"/").concat(n),i=e?"".concat(o,"/").concat(e):o;return"/data".concat(i).replace(/\/($|\?)/,"$1")},fetch:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=!1===r.filterResponse?function(t){return t}:function(t){return t.result},o=this._dataRequest("query",{query:t,params:e},r).pipe(s(n));return this.isPromiseAPI()?m(o):o},getDocument:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={uri:this.getDataUrl("doc",t),json:!0,tag:e.tag},n=this._requestObservable(r).pipe(a(y),s((function(t){return t.body.documents&&t.body.documents[0]})));return this.isPromiseAPI()?m(n):n},getDocuments:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={uri:this.getDataUrl("doc",t.join(",")),json:!0,tag:e.tag},n=this._requestObservable(r).pipe(a(y),s((function(e){var r=g(e.body.documents||[],(function(t){return t._id}));return t.map((function(t){return r[t]||null}))})));return this.isPromiseAPI()?m(n):n},create:function(t,e){return this._create(t,"create",e)},createIfNotExists:function(t,e){return c.requireDocumentId("createIfNotExists",t),this._create(t,"createIfNotExists",e)},createOrReplace:function(t,e){return c.requireDocumentId("createOrReplace",t),this._create(t,"createOrReplace",e)},patch:function(t,e){return new p(t,e,this)},delete:function(t,e){return this.dataRequest("mutate",{mutations:[{delete:u(t)}]},e)},mutate:function(t,e){var r=t instanceof p||t instanceof f?t.serialize():t,n=Array.isArray(r)?r:[r],o=e&&e.transactionId;return this.dataRequest("mutate",{mutations:n,transactionId:o},e)},transaction:function(t){return new f(t,this)},dataRequest:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this._dataRequest(t,e,r);return this.isPromiseAPI()?m(n):n},_dataRequest:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o="mutate"===t,i="query"===t,c=!o&&l(e),u=!o&&c.length<11264,f=u?c:"",p=r.returnFirst,d=r.timeout,h=r.token,g=r.tag,m=r.headers,w={method:u?"GET":"POST",uri:this.getDataUrl(t,f),json:!0,body:u?void 0:e,query:o&&b(r),timeout:d,headers:m,token:h,tag:g,canUseCdn:i};return this._requestObservable(w).pipe(a(y),s(v),s((function(t){if(!o)return t;var e=t.results||[];if(r.returnDocuments)return p?e[0]&&e[0].document:e.map((function(t){return t.document}));var i=p?"documentId":"documentIds",s=p?e[0]&&e[0].id:e.map((function(t){return t.id}));return n({transactionId:t.transactionId,results:e},i,s)})))},_create:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n({},e,t),s=o({returnFirst:!0,returnDocuments:!0},r);return this.dataRequest("mutate",{mutations:[i]},s)}}},{"../util/getSelection":20,"../util/observable":21,"../validators":24,"./encodeQueryString":5,"./listen":6,"./patch":7,"./transaction":8,"object-assign":46}],5:[function(t,e,r){"use strict";var n=["tag"];function o(t,e){if(null==t)return{};var r,n,o=function(t,e){if(null==t)return{};var r,n,o={},i=Object.keys(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||(o[r]=t[r]);return o}(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(o[r]=t[r])}return o}var i=encodeURIComponent;e.exports=function(t){var e=t.query,r=t.params,s=void 0===r?{}:r,a=t.options,c=void 0===a?{}:a,u=c.tag,l=o(c,n),f="query=".concat(i(e)),p=u?"?tag=".concat(i(u),"&").concat(f):"?".concat(f),d=Object.keys(s).reduce((function(t,e){return"".concat(t,"&").concat(i("$".concat(e)),"=").concat(i(JSON.stringify(s[e])))}),p);return Object.keys(l).reduce((function(t,e){return c[e]?"".concat(t,"&").concat(i(e),"=").concat(i(c[e])):t}),d)}},{}],6:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=t("object-assign"),a=t("../util/observable").Observable,c=t("@sanity/eventsource"),u=t("../util/pick"),l=t("../util/defaults"),f=t("./encodeQueryString"),p=c,d=["includePreviousRevision","includeResult","visibility","effectFormat","tag"],h={includeResult:!0};function b(t){try{var e=t.data&&JSON.parse(t.data)||{};return s({type:t.type},e)}catch(t){return t}}function y(t){if(t instanceof Error)return t;var e=b(t);return e instanceof Error?e:new Error(function(t){return t.error?t.error.description?t.error.description:"string"==typeof t.error?t.error:JSON.stringify(t.error,null,2):t.message||"Unknown listener error"}(e))}e.exports=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=this.clientConfig,i=n.url,s=n.token,c=n.withCredentials,v=n.requestTagPrefix,g=r.tag&&v?[v,r.tag].join("."):r.tag,m=o(o({},l(r,h)),{},{tag:g}),w=u(m,d),_=f({query:t,params:e,options:w,tag:g}),O="".concat(i).concat(this.getDataUrl("listen",_));if(O.length>14800)return new a((function(t){return t.error(new Error("Query too large for listener"))}));var E=m.events?m.events:["mutation"],j=-1!==E.indexOf("reconnect"),x={};return(s||c)&&(x.withCredentials=!0),s&&(x.headers={Authorization:"Bearer ".concat(s)}),new a((function(t){var e,r=u(),n=!1;function o(){n||(j&&t.next({type:"reconnect"}),n||r.readyState===p.CLOSED&&(c(),clearTimeout(e),e=setTimeout(l,100)))}function i(e){t.error(y(e))}function s(e){var r=b(e);return r instanceof Error?t.error(r):t.next(r)}function a(e){n=!0,c(),t.complete()}function c(){r.removeEventListener("error",o,!1),r.removeEventListener("channelError",i,!1),r.removeEventListener("disconnect",a,!1),E.forEach((function(t){return r.removeEventListener(t,s,!1)})),r.close()}function u(){var t=new p(O,x);return t.addEventListener("error",o,!1),t.addEventListener("channelError",i,!1),t.addEventListener("disconnect",a,!1),E.forEach((function(e){return t.addEventListener(e,s,!1)})),t}function l(){r=u()}return function(){n=!0,c()}}))}},{"../util/defaults":19,"../util/observable":21,"../util/pick":23,"./encodeQueryString":5,"@sanity/eventsource":26,"object-assign":46}],7:[function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=t("object-assign"),i=t("../util/getSelection"),s=t("../validators"),a=s.validateObject,c=s.validateInsert;function u(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.selection=t,this.operations=o({},e),this.client=r}o(u.prototype,{clone:function(){return new u(this.selection,o({},this.operations),this.client)},set:function(t){return this._assign("set",t)},diffMatchPatch:function(t){return a("diffMatchPatch",t),this._assign("diffMatchPatch",t)},unset:function(t){if(!Array.isArray(t))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=o({},this.operations,{unset:t}),this},setIfMissing:function(t){return this._assign("setIfMissing",t)},replace:function(t){return a("replace",t),this._set("set",{$:t})},inc:function(t){return this._assign("inc",t)},dec:function(t){return this._assign("dec",t)},insert:function(t,e,r){var o;return c(t,e,r),this._assign("insert",(n(o={},t,e),n(o,"items",r),o))},append:function(t,e){return this.insert("after","".concat(t,"[-1]"),e)},prepend:function(t,e){return this.insert("before","".concat(t,"[0]"),e)},splice:function(t,e,r,n){var o=e<0?e-1:e,i=void 0===r||-1===r?-1:Math.max(0,e+r),s=o<0&&i>=0?"":i,a="".concat(t,"[").concat(o,":").concat(s,"]");return this.insert("replace",a,n||[])},ifRevisionId:function(t){return this.operations.ifRevisionID=t,this},serialize:function(){return o(i(this.selection),this.operations)},toJSON:function(){return this.serialize()},commit:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this.client)throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");var e="string"==typeof this.selection,r=o({returnFirst:e,returnDocuments:!0},t);return this.client.mutate({patch:this.serialize()},r)},reset:function(){return this.operations={},this},_set:function(t,e){return this._assign(t,e,!1)},_assign:function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return a(t,e),this.operations=o({},this.operations,n({},t,o({},r&&this.operations[t]||{},e))),this}}),e.exports=u},{"../util/getSelection":20,"../validators":24,"object-assign":46}],8:[function(t,e,r){"use strict";function n(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var o=t("object-assign"),i=t("../validators"),s=t("./patch"),a={returnDocuments:!1};function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;this.trxId=r,this.operations=t,this.client=e}o(c.prototype,{clone:function(){return new c(this.operations.slice(0),this.client,this.trxId)},create:function(t){return i.validateObject("create",t),this._add({create:t})},createIfNotExists:function(t){var e="createIfNotExists";return i.validateObject(e,t),i.requireDocumentId(e,t),this._add(n({},e,t))},createOrReplace:function(t){var e="createOrReplace";return i.validateObject(e,t),i.requireDocumentId(e,t),this._add(n({},e,t))},delete:function(t){return i.validateDocumentId("delete",t),this._add({delete:{id:t}})},patch:function(t,e){var r="function"==typeof e;if(t instanceof s)return this._add({patch:t.serialize()});if(r){var n=e(new s(t,{},this.client));if(!(n instanceof s))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:n.serialize()})}return this._add({patch:o({id:t},e)})},transactionId:function(t){return t?(this.trxId=t,this):this.trxId},serialize:function(){return this.operations.slice()},toJSON:function(){return this.serialize()},commit:function(t){if(!this.client)throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return this.client.mutate(this.serialize(),o({transactionId:this.trxId},a,t||{}))},reset:function(){return this.operations=[],this},_add:function(t){return this.operations.push(t),this}}),e.exports=c},{"../validators":24,"./patch":7,"object-assign":46}],9:[function(t,e,r){"use strict";var n=t("object-assign"),o=t("../validators");function i(t){this.request=t.request.bind(t)}n(i.prototype,{create:function(t,e){return this._modify("PUT",t,e)},edit:function(t,e){return this._modify("PATCH",t,e)},delete:function(t){return this._modify("DELETE",t)},list:function(){return this.request({uri:"/datasets"})},_modify:function(t,e,r){return o.dataset(e),this.request({method:t,uri:"/datasets/".concat(e),body:r})}}),e.exports=i},{"../validators":24,"object-assign":46}],10:[function(t,e,r){"use strict";e.exports=function(t){return"https://docs.sanity.io/help/"+t}},{}],11:[function(t,e,r){"use strict";e.exports=[]},{}],12:[function(t,e,r){"use strict";var n=t("make-error"),o=t("object-assign");function i(t){var e=a(t);i.super.call(this,e.message),o(this,e)}function s(t){var e=a(t);s.super.call(this,e.message),o(this,e)}function a(t){var e=t.body,r={response:t,statusCode:t.statusCode,responseBody:c(e,t)};return e.error&&e.message?(r.message="".concat(e.error," - ").concat(e.message),r):e.error&&e.error.description?(r.message=e.error.description,r.details=e.error,r):(r.message=e.error||e.message||function(t){var e=t.statusMessage?" ".concat(t.statusMessage):"";return"".concat(t.method,"-request to ").concat(t.url," resulted in HTTP ").concat(t.statusCode).concat(e)}(t),r)}function c(t,e){return-1!==(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")?JSON.stringify(t,null,2):t}n(i),n(s),r.ClientError=i,r.ServerError=s},{"make-error":44,"object-assign":46}],13:[function(t,e,r){"use strict";e.exports=function(t){var e=[];for(var r in t)t.hasOwnProperty(r)&&e.push("".concat(encodeURIComponent(r),"=").concat(encodeURIComponent(t[r])));return e.length>0?"?".concat(e.join("&")):""}},{}],14:[function(t,e,r){"use strict";var n=t("get-it"),o=t("object-assign"),i=t("get-it/lib/middleware/observable"),s=t("get-it/lib/middleware/jsonRequest"),a=t("get-it/lib/middleware/jsonResponse"),c=t("get-it/lib/middleware/progress"),u=t("../util/observable").Observable,l=t("./errors"),f=l.ClientError,p=l.ServerError,d={onResponse:function(t){if(t.statusCode>=500)throw new p(t);if(t.statusCode>=400)throw new f(t);return t}},h={onResponse:function(t){var e=t.headers["x-sanity-warning"];return(Array.isArray(e)?e:[e]).filter(Boolean).forEach((function(t){return console.warn(t)})),t}},b=n(t("./nodeMiddleware").concat([h,s(),a(),c(),d,i({implementation:u})]));function y(t){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:b)(o({maxRedirects:0},t))}y.defaultRequester=b,y.ClientError=f,y.ServerError=p,e.exports=y},{"../util/observable":21,"./errors":12,"./nodeMiddleware":11,"get-it":28,"get-it/lib/middleware/jsonRequest":32,"get-it/lib/middleware/jsonResponse":33,"get-it/lib/middleware/observable":34,"get-it/lib/middleware/progress":36,"object-assign":46}],15:[function(t,e,r){"use strict";var n=t("object-assign"),o="X-Sanity-Project-ID";e.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={},i=e.token||t.token;i&&(r.Authorization="Bearer ".concat(i)),e.useGlobalApi||t.useProjectHostname||!t.projectId||(r[o]=t.projectId);var s=Boolean(void 0===e.withCredentials?t.token||t.withCredentials:e.withCredentials),a=void 0===e.timeout?t.timeout:e.timeout;return n({},e,{headers:n({},r,e.headers||{}),timeout:void 0===a?3e5:a,proxy:e.proxy||t.proxy,json:!0,withCredentials:s})}},{"object-assign":46}],16:[function(t,e,r){"use strict";function n(t){this.client=t}t("object-assign")(n.prototype,{list:function(){return this.client.request({uri:"/projects"})},getById:function(t){return this.client.request({uri:"/projects/".concat(t)})}}),e.exports=n},{"object-assign":46}],17:[function(t,e,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,n)}return r}function o(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?n(Object(r),!0).forEach((function(e){i(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function i(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var s=t("object-assign"),a=t("./util/observable"),c=a.Observable,u=a.map,l=a.filter,f=t("./data/patch"),p=t("./data/transaction"),d=t("./data/dataMethods"),h=t("./datasets/datasetsClient"),b=t("./projects/projectsClient"),y=t("./assets/assetsClient"),v=t("./users/usersClient"),g=t("./auth/authClient"),m=t("./http/request"),w=t("./http/requestOptions"),_=t("./config"),O=_.defaultConfig,E=_.initConfig,j=t("./validators");function x(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;if(!(this instanceof x))return new x(t);if(this.config(t),this.assets=new y(this),this.datasets=new h(this),this.projects=new b(this),this.users=new v(this),this.auth=new g(this),this.clientConfig.isPromiseAPI){var e=s({},this.clientConfig,{isPromiseAPI:!1});this.observable=new x(e)}}s(x.prototype,d),s(x.prototype,{clone:function(){return new x(this.config())},config:function(t){if(void 0===t)return s({},this.clientConfig);if(this.clientConfig&&!1===this.clientConfig.allowReconfigure)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");if(this.observable){var e=s({},t,{isPromiseAPI:!1});this.observable.config(e)}return this.clientConfig=E(t,this.clientConfig||{}),this},withConfig:function(t){return new x(o(o({},this.config()),t))},getUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?this.clientConfig.cdnUrl:this.clientConfig.url;return"".concat(e,"/").concat(t.replace(/^\//,""))},isPromiseAPI:function(){return this.clientConfig.isPromiseAPI},_requestObservable:function(t){var e=this,r=t.url||t.uri,n=void 0===t.canUseCdn?["GET","HEAD"].indexOf(t.method||"GET")>=0&&0===r.indexOf("/data/"):t.canUseCdn,i=this.clientConfig.useCdn&&n,a=t.tag&&this.clientConfig.requestTagPrefix?[this.clientConfig.requestTagPrefix,t.tag].join("."):t.tag||this.clientConfig.requestTagPrefix;a&&(t.query=o({tag:j.requestTag(a)},t.query));var u=w(this.clientConfig,s({},t,{url:this.getUrl(r,i)}));return new c((function(t){return m(u,e.clientConfig.requester).subscribe(t)}))},request:function(t){var e=this._requestObservable(t).pipe(l((function(t){return"response"===t.type})),u((function(t){return t.body})));return this.isPromiseAPI()?function(t){return t.toPromise()}(e):e}}),x.Patch=f,x.Transaction=p,x.ClientError=m.ClientError,x.ServerError=m.ServerError,x.requester=m.defaultRequester,e.exports=x},{"./assets/assetsClient":1,"./auth/authClient":2,"./config":3,"./data/dataMethods":4,"./data/patch":7,"./data/transaction":8,"./datasets/datasetsClient":9,"./http/request":14,"./http/requestOptions":15,"./projects/projectsClient":16,"./users/usersClient":18,"./util/observable":21,"./validators":24,"object-assign":46}],18:[function(t,e,r){"use strict";function n(t){this.client=t}t("object-assign")(n.prototype,{getById:function(t){return this.client.request({uri:"/users/".concat(t)})}}),e.exports=n},{"object-assign":46}],19:[function(t,e,r){"use strict";e.exports=function(t,e){return Object.keys(e).concat(Object.keys(t)).reduce((function(r,n){return r[n]=void 0===t[n]?e[n]:t[n],r}),{})}},{}],20:[function(t,e,r){"use strict";e.exports=function(t){if("string"==typeof t||Array.isArray(t))return{id:t};if(t&&t.query)return"params"in t?{query:t.query,params:t.params}:{query:t.query};var e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join("\n");throw new Error("Unknown selection - must be one of:\n\n".concat(e))}},{}],21:[function(t,e,r){"use strict";var n=t("rxjs/internal/Observable").Observable,o=t("rxjs/internal/operators/filter").filter,i=t("rxjs/internal/operators/map").map;e.exports={Observable:n,filter:o,map:i}},{"rxjs/internal/Observable":50,"rxjs/internal/operators/filter":55,"rxjs/internal/operators/map":56}],22:[function(t,e,r){"use strict";e.exports=function(t){var e,r=!1;return function(){return r||(e=t.apply(void 0,arguments),r=!0),e}}},{}],23:[function(t,e,r){"use strict";e.exports=function(t,e){return e.reduce((function(e,r){return void 0===t[r]||(e[r]=t[r]),e}),{})}},{}],24:[function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=["image","file"],i=["before","after","replace"];r.dataset=function(t){if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(t))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},r.projectId=function(t){if(!/^[-a-z0-9]+$/i.test(t))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},r.validateAssetType=function(t){if(-1===o.indexOf(t))throw new Error("Invalid asset type: ".concat(t,". Must be one of ").concat(o.join(", ")))},r.validateObject=function(t,e){if(null===e||"object"!==n(e)||Array.isArray(e))throw new Error("".concat(t,"() takes an object of properties"))},r.requireDocumentId=function(t,e){if(!e._id)throw new Error("".concat(t,'() requires that the document contains an ID ("_id" property)'));r.validateDocumentId(t,e._id)},r.validateDocumentId=function(t,e){if("string"!=typeof e||!/^[a-z0-9_.-]+$/i.test(e))throw new Error("".concat(t,'(): "').concat(e,'" is not a valid document ID'))},r.validateInsert=function(t,e,r){var n="insert(at, selector, items)";if(-1===i.indexOf(t)){var o=i.map((function(t){return'"'.concat(t,'"')})).join(", ");throw new Error("".concat(n,' takes an "at"-argument which is one of: ').concat(o))}if("string"!=typeof e)throw new Error("".concat(n,' takes a "selector"-argument which must be a string'));if(!Array.isArray(r))throw new Error("".concat(n,' takes an "items"-argument which must be an array'))},r.hasDataset=function(t){if(!t.dataset)throw new Error("`dataset` must be provided to perform queries");return t.dataset||""},r.requestTag=function(t){if("string"!=typeof t||!/^[a-z0-9._-]{1,75}$/i.test(t))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return t}},{}],25:[function(t,e,r){"use strict";var n=t("./generateHelpUrl"),o=t("./util/once"),i=function(t){return o((function(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=console).warn.apply(e,[t.join(" ")].concat(n))}))};r.printCdnWarning=i(["You are not using the Sanity CDN. That means your data is always fresh, but the CDN is faster and","cheaper. Think about it! For more info, see ".concat(n("js-client-cdn-configuration"),"."),"To hide this warning, please set the `useCdn` option to either `true` or `false` when creating","the client."]),r.printBrowserTokenWarning=i(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.","See ".concat(n("js-client-browser-token")," for more information and how to hide this warning.")]),r.printNoApiVersionSpecifiedWarning=i(["Using the Sanity client without specifying an API version is deprecated.","See ".concat(n("js-client-api-version"))])},{"./generateHelpUrl":10,"./util/once":22}],26:[function(t,e,r){var n=t("event-source-polyfill");e.exports=n.EventSourcePolyfill},{"event-source-polyfill":27}],27:[function(t,e,r){!function(t){"use strict";var n=t.setTimeout,o=t.clearTimeout,i=t.XMLHttpRequest,s=t.XDomainRequest,a=t.ActiveXObject,c=t.EventSource,u=t.document,l=t.Promise,f=t.fetch,p=t.Response,d=t.TextDecoder,h=t.TextEncoder,b=t.AbortController;if("undefined"==typeof window||void 0===u||"readyState"in u||null!=u.body||(u.readyState="loading",window.addEventListener("load",(function(t){u.readyState="complete"}),!1)),null==i&&null!=a&&(i=function(){return new a("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(t){function e(){}return e.prototype=t,new e}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==b){var y=f;f=function(t,e){var r=e.signal;return y(t,{headers:e.headers,credentials:e.credentials,cache:e.cache}).then((function(t){var e=t.body.getReader();return r._reader=e,r._aborted&&r._reader.cancel(),{status:t.status,statusText:t.statusText,headers:t.headers,body:{getReader:function(){return e}}}}))},b=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}}function v(){this.bitsNeeded=0,this.codePoint=0}v.prototype.decode=function(t){function e(t,e,r){if(1===r)return t>=128>>e&&t<<e<=2047;if(2===r)return t>=2048>>e&&t<<e<=55295||t>=57344>>e&&t<<e<=65535;if(3===r)return t>=65536>>e&&t<<e<=1114111;throw new Error}function r(t,e){if(6===t)return e>>6>15?3:e>31?2:1;if(12===t)return e>15?3:2;if(18===t)return 3;throw new Error}for(var n="",o=this.bitsNeeded,i=this.codePoint,s=0;s<t.length;s+=1){var a=t[s];0!==o&&(a<128||a>191||!e(i<<6|63&a,o-6,r(o,i)))&&(o=0,i=65533,n+=String.fromCharCode(i)),0===o?(a>=0&&a<=127?(o=0,i=a):a>=192&&a<=223?(o=6,i=31&a):a>=224&&a<=239?(o=12,i=15&a):a>=240&&a<=247?(o=18,i=7&a):(o=0,i=65533),0===o||e(i,o,r(o,i))||(o=0,i=65533)):(o-=6,i=i<<6|63&a),0===o&&(i<=65535?n+=String.fromCharCode(i):(n+=String.fromCharCode(55296+(i-65535-1>>10)),n+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=o,this.codePoint=i,n},null!=d&&null!=h&&function(){try{return"test"===(new d).decode((new h).encode("test"),{stream:!0})}catch(t){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+t)}return!1}()||(d=v);var g=function(){};function m(t){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=g,this.onload=g,this.onerror=g,this.onreadystatechange=g,this._contentType="",this._xhr=t,this._sendTimeout=0,this._abort=g}function w(t){return t.replace(/[A-Z]/g,(function(t){return String.fromCharCode(t.charCodeAt(0)+32)}))}function _(t){for(var e=Object.create(null),r=t.split("\r\n"),n=0;n<r.length;n+=1){var o=r[n].split(": "),i=o.shift(),s=o.join(": ");e[w(i)]=s}this._map=e}function O(){}function E(t){this._headers=t}function j(){}function x(){this._listeners=Object.create(null)}function S(t){n((function(){throw t}),0)}function C(t){this.type=t,this.target=void 0}function T(t,e){C.call(this,t),this.data=e.data,this.lastEventId=e.lastEventId}function P(t,e){C.call(this,t),this.status=e.status,this.statusText=e.statusText,this.headers=e.headers}function R(t,e){C.call(this,t),this.error=e.error}m.prototype.open=function(t,e){this._abort(!0);var r=this,s=this._xhr,a=1,c=0;this._abort=function(t){0!==r._sendTimeout&&(o(r._sendTimeout),r._sendTimeout=0),1!==a&&2!==a&&3!==a||(a=4,s.onload=g,s.onerror=g,s.onabort=g,s.onprogress=g,s.onreadystatechange=g,s.abort(),0!==c&&(o(c),c=0),t||(r.readyState=4,r.onabort(null),r.onreadystatechange())),a=0};var u=function(){if(1===a){var t=0,e="",n=void 0;if("contentType"in s)t=200,e="OK",n=s.contentType;else try{t=s.status,e=s.statusText,n=s.getResponseHeader("Content-Type")}catch(r){t=0,e="",n=void 0}0!==t&&(a=2,r.readyState=2,r.status=t,r.statusText=e,r._contentType=n,r.onreadystatechange())}},l=function(){if(u(),2===a||3===a){a=3;var t="";try{t=s.responseText}catch(t){}r.readyState=3,r.responseText=t,r.onprogress()}},f=function(t,e){if(null!=e&&null!=e.preventDefault||(e={preventDefault:g}),l(),1===a||2===a||3===a){if(a=4,0!==c&&(o(c),c=0),r.readyState=4,"load"===t)r.onload(e);else if("error"===t)r.onerror(e);else{if("abort"!==t)throw new TypeError;r.onabort(e)}r.onreadystatechange()}},p=function(){c=n((function(){p()}),500),3===s.readyState&&l()};"onload"in s&&(s.onload=function(t){f("load",t)}),"onerror"in s&&(s.onerror=function(t){f("error",t)}),"onabort"in s&&(s.onabort=function(t){f("abort",t)}),"onprogress"in s&&(s.onprogress=l),"onreadystatechange"in s&&(s.onreadystatechange=function(t){!function(t){null!=s&&(4===s.readyState?"onload"in s&&"onerror"in s&&"onabort"in s||f(""===s.responseText?"error":"load",t):3===s.readyState?"onprogress"in s||l():2===s.readyState&&u())}(t)}),!("contentType"in s)&&"ontimeout"in i.prototype||(e+=(-1===e.indexOf("?")?"?":"&")+"padding=true"),s.open(t,e,!0),"readyState"in s&&(c=n((function(){p()}),0))},m.prototype.abort=function(){this._abort(!1)},m.prototype.getResponseHeader=function(t){return this._contentType},m.prototype.setRequestHeader=function(t,e){var r=this._xhr;"setRequestHeader"in r&&r.setRequestHeader(t,e)},m.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},m.prototype.send=function(){if("ontimeout"in i.prototype&&("sendAsBinary"in i.prototype||"mozAnon"in i.prototype)||null==u||null==u.readyState||"complete"===u.readyState){var t=this._xhr;"withCredentials"in t&&(t.withCredentials=this.withCredentials);try{t.send(void 0)}catch(t){throw t}}else{var e=this;e._sendTimeout=n((function(){e._sendTimeout=0,e.send()}),4)}},_.prototype.get=function(t){return this._map[w(t)]},null!=i&&null==i.HEADERS_RECEIVED&&(i.HEADERS_RECEIVED=2),O.prototype.open=function(t,e,r,n,o,s,a){t.open("GET",o);var c=0;for(var u in t.onprogress=function(){var e=t.responseText.slice(c);c+=e.length,r(e)},t.onerror=function(t){t.preventDefault(),n(new Error("NetworkError"))},t.onload=function(){n(null)},t.onabort=function(){n(null)},t.onreadystatechange=function(){if(t.readyState===i.HEADERS_RECEIVED){var r=t.status,n=t.statusText,o=t.getResponseHeader("Content-Type"),s=t.getAllResponseHeaders();e(r,n,o,new _(s))}},t.withCredentials=s,a)Object.prototype.hasOwnProperty.call(a,u)&&t.setRequestHeader(u,a[u]);return t.send(),t},E.prototype.get=function(t){return this._headers.get(t)},j.prototype.open=function(t,e,r,n,o,i,s){var a=null,c=new b,u=c.signal,p=new d;return f(o,{headers:s,credentials:i?"include":"same-origin",signal:u,cache:"no-store"}).then((function(t){return a=t.body.getReader(),e(t.status,t.statusText,t.headers.get("Content-Type"),new E(t.headers)),new l((function(t,e){var n=function(){a.read().then((function(e){if(e.done)t(void 0);else{var o=p.decode(e.value,{stream:!0});r(o),n()}})).catch((function(t){e(t)}))};n()}))})).catch((function(t){return"AbortError"===t.name?void 0:t})).then((function(t){n(t)})),{abort:function(){null!=a&&a.cancel(),c.abort()}}},x.prototype.dispatchEvent=function(t){t.target=this;var e=this._listeners[t.type];if(null!=e)for(var r=e.length,n=0;n<r;n+=1){var o=e[n];try{"function"==typeof o.handleEvent?o.handleEvent(t):o.call(this,t)}catch(t){S(t)}}},x.prototype.addEventListener=function(t,e){t=String(t);var r=this._listeners,n=r[t];null==n&&(n=[],r[t]=n);for(var o=!1,i=0;i<n.length;i+=1)n[i]===e&&(o=!0);o||n.push(e)},x.prototype.removeEventListener=function(t,e){t=String(t);var r=this._listeners,n=r[t];if(null!=n){for(var o=[],i=0;i<n.length;i+=1)n[i]!==e&&o.push(n[i]);0===o.length?delete r[t]:r[t]=o}},T.prototype=Object.create(C.prototype),P.prototype=Object.create(C.prototype),R.prototype=Object.create(C.prototype);var q=/^text\/event\-stream(;.*)?$/i,A=function(t,e){var r=null==t?e:parseInt(t,10);return r!=r&&(r=e),I(r)},I=function(t){return Math.min(Math.max(t,1e3),18e6)},D=function(t,e,r){try{"function"==typeof e&&e.call(t,r)}catch(t){S(t)}};function U(t,e){x.call(this),e=e||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(t,e,r){e=String(e);var a=Boolean(r.withCredentials),c=r.lastEventIdQueryParameterName||"lastEventId",u=I(1e3),l=A(r.heartbeatTimeout,45e3),f="",p=u,d=!1,h=0,b=r.headers||{},y=r.Transport,v=k&&null==y?void 0:new m(null!=y?new y:null!=i&&"withCredentials"in i.prototype||null==s?new i:new s),g=null!=y&&"string"!=typeof y?new y:null==v?new j:new O,w=void 0,_=0,E=-1,x="",S="",C="",U="",H=0,M=0,N=0,L=function(e,r,n,o){if(0===E)if(200===e&&null!=n&&q.test(n)){E=1,d=Date.now(),p=u,t.readyState=1;var i=new P("open",{status:e,statusText:r,headers:o});t.dispatchEvent(i),D(t,t.onopen,i)}else{var s="";200!==e?(r&&(r=r.replace(/\s+/g," ")),s="EventSource's response has a status "+e+" "+r+" that is not 200. Aborting the connection."):s="EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",B();i=new P("error",{status:e,statusText:r,headers:o});t.dispatchEvent(i),D(t,t.onerror,i),console.error(s)}},z=function(e){if(1===E){for(var r=-1,i=0;i<e.length;i+=1){(c=e.charCodeAt(i))!=="\n".charCodeAt(0)&&c!=="\r".charCodeAt(0)||(r=i)}var s=(-1!==r?U:"")+e.slice(0,r+1);U=(-1===r?U:"")+e.slice(r+1),""!==e&&(d=Date.now(),h+=e.length);for(var a=0;a<s.length;a+=1){var c=s.charCodeAt(a);if(-1===H&&c==="\n".charCodeAt(0))H=0;else if(-1===H&&(H=0),c==="\r".charCodeAt(0)||c==="\n".charCodeAt(0)){if(0!==H){1===H&&(N=a+1);var b=s.slice(M,N-1),y=s.slice(N+(N<a&&s.charCodeAt(N)===" ".charCodeAt(0)?1:0),a);"data"===b?(x+="\n",x+=y):"id"===b?S=y:"event"===b?C=y:"retry"===b?(u=A(y,u),p=u):"heartbeatTimeout"===b&&(l=A(y,l),0!==_&&(o(_),_=n((function(){F()}),l)))}if(0===H){if(""!==x){f=S,""===C&&(C="message");var v=new T(C,{data:x.slice(1),lastEventId:S});if(t.dispatchEvent(v),"open"===C?D(t,t.onopen,v):"message"===C?D(t,t.onmessage,v):"error"===C&&D(t,t.onerror,v),2===E)return}x="",C=""}H=c==="\r".charCodeAt(0)?-1:0}else 0===H&&(M=a,H=1),1===H?c===":".charCodeAt(0)&&(N=a+1,H=2):2===H&&(H=3)}}},V=function(e){if(1===E||0===E){E=-1,0!==_&&(o(_),_=0),_=n((function(){F()}),p),p=I(Math.min(16*u,2*p)),t.readyState=0;var r=new R("error",{error:e});t.dispatchEvent(r),D(t,t.onerror,r),null!=e&&console.error(e)}},B=function(){E=2,null!=w&&(w.abort(),w=void 0),0!==_&&(o(_),_=0),t.readyState=2},F=function(){if(_=0,-1===E){d=!1,h=0,_=n((function(){F()}),l),E=0,x="",C="",S=f,U="",M=0,N=0,H=0;var r=e;if("data:"!==e.slice(0,5)&&"blob:"!==e.slice(0,5)&&""!==f){var o=e.indexOf("?");r=-1===o?e:e.slice(0,o+1)+e.slice(o+1).replace(/(?:^|&)([^=&]*)(?:=[^&]*)?/g,(function(t,e){return e===c?"":t})),r+=(-1===e.indexOf("?")?"?":"&")+c+"="+encodeURIComponent(f)}var i=t.withCredentials,s={Accept:"text/event-stream"},a=t.headers;if(null!=a)for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(s[u]=a[u]);try{w=g.open(v,L,z,V,r,i,s)}catch(t){throw B(),t}}else if(d||null==w){var p=Math.max((d||Date.now())+l-Date.now(),1);d=!1,_=n((function(){F()}),p)}else V(new Error("No activity within "+l+" milliseconds. "+(0===E?"No response received.":h+" chars received.")+" Reconnecting.")),null!=w&&(w.abort(),w=void 0)};t.url=e,t.readyState=0,t.withCredentials=a,t.headers=b,t._close=B,F()}(this,t,e)}var k=null!=f&&null!=p&&"body"in p.prototype;U.prototype=Object.create(x.prototype),U.prototype.CONNECTING=0,U.prototype.OPEN=1,U.prototype.CLOSED=2,U.prototype.close=function(){this._close()},U.CONNECTING=0,U.OPEN=1,U.CLOSED=2,U.prototype.withCredentials=void 0;var H=c;null==i||null!=c&&"withCredentials"in c.prototype||(H=U),function(n){if("object"==typeof e&&"object"==typeof e.exports){var o=n(r);void 0!==o&&(e.exports=o)}else n(t)}((function(t){t.EventSourcePolyfill=U,t.NativeEventSource=c,t.EventSource=H}))}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:this:globalThis)},{}],28:[function(t,e,r){e.exports=t("./lib-node")},{"./lib-node":29}],29:[function(t,e,r){"use strict";var n=t("nano-pubsub"),o=t("./util/middlewareReducer"),i=t("./middleware/defaultOptionsProcessor"),s=t("./middleware/defaultOptionsValidator"),a=t("./request"),c=["request","response","progress","error","abort"],u=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];e.exports=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,l=[],f=u.reduce((function(t,e){return t[e]=t[e]||[],t}),{processOptions:[i],validateOptions:[s]});function p(t){var e=c.reduce((function(t,e){return t[e]=n(),t}),{}),i=o(f),s=i("processOptions",t);i("validateOptions",s);var a={options:s,channels:e,applyMiddleware:i},u=null,l=e.request.subscribe((function(t){u=r(t,(function(r,n){return function(t,r,n){var o=t,s=r;if(!o)try{s=i("onResponse",r,n)}catch(t){s=null,o=t}(o=o&&i("onError",o,n))?e.error.publish(o):s&&e.response.publish(s)}(r,n,t)}))}));e.abort.subscribe((function(){l(),u&&u.abort()}));var p=i("onReturn",e,a);return p===e&&e.request.publish(a),p}return p.use=function(t){if(!t)throw new Error("Tried to add middleware that resolved to falsey value");if("function"==typeof t)throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(t.onReturn&&f.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return u.forEach((function(e){t[e]&&f[e].push(t[e])})),l.push(t),p},p.clone=function(){return t(l)},e.forEach(p.use),p}},{"./middleware/defaultOptionsProcessor":30,"./middleware/defaultOptionsValidator":31,"./request":39,"./util/middlewareReducer":41,"nano-pubsub":45}],30:[function(t,e,r){"use strict";var n=t("object-assign"),o=t("url-parse"),i="undefined"!=typeof navigator&&"ReactNative"===navigator.product,s=Object.prototype.hasOwnProperty,a={timeout:i?6e4:12e4};function c(t){var e=[];for(var r in t)s.call(t,r)&&n(r,t[r]);return e.length?e.join("&"):"";function n(t,r){Array.isArray(r)?r.forEach((function(e){return n(t,e)})):e.push([t,r].map(encodeURIComponent).join("="))}}function u(t){if(!1===t||0===t)return!1;if(t.connect||t.socket)return t;var e=Number(t);return isNaN(e)?u(a.timeout):{connect:e,socket:e}}e.exports=function(t){var e="string"==typeof t?n({url:t},a):n({},a,t),r=o(e.url,{},!0);return e.timeout=u(e.timeout),e.query&&(r.query=n({},r.query,function(t){var e={};for(var r in t)void 0!==t[r]&&(e[r]=t[r]);return e}(e.query))),e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e.url=r.toString(c),e}},{"object-assign":46,"url-parse":70}],31:[function(t,e,r){"use strict";var n=/^https?:\/\//i;e.exports=function(t){if(!n.test(t.url))throw new Error('"'.concat(t.url,'" is not a valid URL'))}},{}],32:[function(t,e,r){"use strict";function n(t){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var o=t("object-assign"),i=t("is-plain-object"),s=["boolean","string","number"];e.exports=function(){return{processOptions:function(t){var e=t.body;return e&&"function"!=typeof e.pipe&&!function(t){return!!t.constructor&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}(e)&&(-1!==s.indexOf(n(e))||Array.isArray(e)||i(e))?o({},t,{body:JSON.stringify(t.body),headers:o({},t.headers,{"Content-Type":"application/json"})}):t}}}},{"is-plain-object":42,"object-assign":46}],33:[function(t,e,r){"use strict";var n=t("object-assign");function o(t){try{return JSON.parse(t)}catch(t){throw t.message="Failed to parsed response body as JSON: ".concat(t.message),t}}e.exports=function(t){return{onResponse:function(e){var r=e.headers["content-type"]||"",i=t&&t.force||-1!==r.indexOf("application/json");return e.body&&r&&i?n({},e,{body:o(e.body)}):e},processOptions:function(t){return n({},t,{headers:n({Accept:"application/json"},t.headers)})}}}},{"object-assign":46}],34:[function(t,e,r){"use strict";var n=t("../util/global"),o=t("object-assign");e.exports=function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).implementation||n.Observable;if(!t)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:function(e,r){return new t((function(t){return e.error.subscribe((function(e){return t.error(e)})),e.progress.subscribe((function(e){return t.next(o({type:"progress"},e))})),e.response.subscribe((function(e){t.next(o({type:"response"},e)),t.complete()})),e.request.publish(r),function(){return e.abort.publish()}}))}}}},{"../util/global":40,"object-assign":46}],35:[function(t,e,r){"use strict";e.exports=function(){return{onRequest:function(t){if("xhr"===t.adapter){var e=t.request,r=t.context;"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=n("upload")),"onprogress"in e&&(e.onprogress=n("download"))}function n(t){return function(e){var n=e.lengthComputable?e.loaded/e.total*100:-1;r.channels.progress.publish({stage:t,percent:n,total:e.total,loaded:e.loaded,lengthComputable:e.lengthComputable})}}}}}},{}],36:[function(t,e,r){"use strict";e.exports=t("./node-progress")},{"./node-progress":35}],37:[function(t,e,r){"use strict";var n=t("same-origin"),o=t("parse-headers"),i=t("./browser/fetchXhr"),s="undefined"==typeof window?void 0:window,a=s?"xhr":"fetch",c="function"==typeof XMLHttpRequest?XMLHttpRequest:function(){},u="withCredentials"in new c,l="undefined"==typeof XDomainRequest?void 0:XDomainRequest,f=u?c:l;s||(c=i,f=i),e.exports=function(t,e){var r=t.options,i=t.applyMiddleware("finalizeOptions",r),u={},l=s&&s.location&&!n(s.location.href,i.url),p=t.applyMiddleware("interceptRequest",void 0,{adapter:a,context:t});if(p){var d=setTimeout(e,0,null,p);return{abort:function(){return clearTimeout(d)}}}var h=l?new f:new c,b=s&&s.XDomainRequest&&h instanceof s.XDomainRequest,y=i.headers,v=i.timeout,g=!1,m=!1,w=!1;if(h.onerror=j,h.ontimeout=j,h.onabort=function(){E(!0),g=!0},h.onprogress=function(){},h[b?"onload":"onreadystatechange"]=function(){v&&(E(),u.socket=setTimeout((function(){return O("ESOCKETTIMEDOUT")}),v.socket)),g||4!==h.readyState&&!b||0!==h.status&&(g||m||w||(0!==h.status?(E(),m=!0,e(null,function(){var t=h.status,e=h.statusText;if(b&&void 0===t)t=200;else{if(t>12e3&&t<12156)return j();t=1223===h.status?204:h.status,e=1223===h.status?"No Content":e}return{body:h.response||h.responseText,url:i.url,method:i.method,headers:b?{}:o(h.getAllResponseHeaders()),statusCode:t,statusMessage:e}}())):j(new Error("Unknown XHR error"))))},h.open(i.method,i.url,!0),h.withCredentials=!!i.withCredentials,y&&h.setRequestHeader)for(var _ in y)y.hasOwnProperty(_)&&h.setRequestHeader(_,y[_]);else if(y&&b)throw new Error("Headers cannot be set on an XDomainRequest object");return i.rawBody&&(h.responseType="arraybuffer"),t.applyMiddleware("onRequest",{options:i,adapter:a,request:h,context:t}),h.send(i.body||null),v&&(u.connect=setTimeout((function(){return O("ETIMEDOUT")}),v.connect)),{abort:function(){g=!0,h&&h.abort()}};function O(e){w=!0,h.abort();var r=new Error("ESOCKETTIMEDOUT"===e?"Socket timed out on request to ".concat(i.url):"Connection timed out on request to ".concat(i.url));r.code=e,t.channels.error.publish(r)}function E(t){(t||g||h.readyState>=2&&u.connect)&&clearTimeout(u.connect),u.socket&&clearTimeout(u.socket)}function j(t){if(!m){E(!0),m=!0,h=null;var r=t||new Error("Network error while attempting to reach ".concat(i.url));r.isNetworkError=!0,r.request=i,e(r)}}}},{"./browser/fetchXhr":38,"parse-headers":47,"same-origin":68}],38:[function(t,e,r){"use strict";function n(){this.readyState=0}n.prototype.open=function(t,e){this._method=t,this._url=e,this._resHeaders="",this.readyState=1,this.onreadystatechange()},n.prototype.abort=function(){this._controller&&this._controller.abort()},n.prototype.getAllResponseHeaders=function(){return this._resHeaders},n.prototype.setRequestHeader=function(t,e){this._headers=this._headers||{},this._headers[t]=e},n.prototype.send=function(t){var e=this,r=this._controller="function"==typeof AbortController&&new AbortController,n="arraybuffer"!==this.responseType,o={method:this._method,headers:this._headers,signal:r&&r.signal,body:t};"undefined"!=typeof window&&(o.credentials=this.withCredentials?"include":"omit"),fetch(this._url,o).then((function(t){return t.headers.forEach((function(t,r){e._resHeaders+="".concat(r,": ").concat(t,"\r\n")})),e.status=t.status,e.statusText=t.statusText,e.readyState=3,n?t.text():t.arrayBuffer()})).then((function(t){n?e.responseText=t:e.response=t,e.readyState=4,e.onreadystatechange()})).catch((function(t){"AbortError"!==t.name?e.onerror(t):e.onabort()}))},e.exports=n},{}],39:[function(t,e,r){"use strict";e.exports=t("./node-request")},{"./node-request":37}],40:[function(t,e,r){(function(t){(function(){"use strict";"undefined"!=typeof globalThis?e.exports=globalThis:"undefined"!=typeof window?e.exports=window:void 0!==t?e.exports=t:"undefined"!=typeof self?e.exports=self:e.exports={}}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],41:[function(t,e,r){"use strict";e.exports=function(t){return function(e,r){for(var n="onError"===e,o=r,i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];for(var c=0;c<t[e].length&&(o=t[e][c].apply(void 0,[o].concat(s)),!n||o);c++);return o}}},{}],42:[function(t,e,r){"use strict";var n=t("isobject");function o(t){return!0===n(t)&&"[object Object]"===Object.prototype.toString.call(t)}e.exports=function(t){var e,r;return!1!==o(t)&&"function"==typeof(e=t.constructor)&&!1!==o(r=e.prototype)&&!1!==r.hasOwnProperty("isPrototypeOf")}},{isobject:43}],43:[function(t,e,r){"use strict";e.exports=function(t){return null!=t&&"object"==typeof t&&!1===Array.isArray(t)}},{}],44:[function(t,e,r){"use strict";var n="undefined"!=typeof Reflect?Reflect.construct:void 0,o=Object.defineProperty,i=Error.captureStackTrace;function s(t){void 0!==t&&o(this,"message",{configurable:!0,value:t,writable:!0});var e=this.constructor.name;void 0!==e&&e!==this.name&&o(this,"name",{configurable:!0,value:e,writable:!0}),i(this,this.constructor)}void 0===i&&(i=function(t){var e=new Error;o(t,"stack",{configurable:!0,get:function(){var t=e.stack;return o(this,"stack",{configurable:!0,value:t,writable:!0}),t},set:function(e){o(t,"stack",{configurable:!0,value:e,writable:!0})}})}),s.prototype=Object.create(Error.prototype,{constructor:{configurable:!0,value:s,writable:!0}});var a=function(){function t(t,e){return o(t,"name",{configurable:!0,value:e})}try{var e=function(){};if(t(e,"foo"),"foo"===e.name)return t}catch(t){}}();r=e.exports=function(t,e){if(null==e||e===Error)e=s;else if("function"!=typeof e)throw new TypeError("super_ should be a function");var r;if("string"==typeof t)r=t,t=void 0!==n?function(){return n(e,arguments,this.constructor)}:function(){e.apply(this,arguments)},void 0!==a&&(a(t,r),r=void 0);else if("function"!=typeof t)throw new TypeError("constructor should be either a string or a function");t.super_=t.super=e;var o={constructor:{configurable:!0,value:t,writable:!0}};return void 0!==r&&(o.name={configurable:!0,value:r,writable:!0}),t.prototype=Object.create(e.prototype,o),t},r.BaseError=s},{}],45:[function(t,e,r){e.exports=function(){var t=[];return{subscribe:function(e){return t.push(e),function(){var r=t.indexOf(e);r>-1&&t.splice(r,1)}},publish:function(){for(var e=0;e<t.length;e++)t[e].apply(null,arguments)}}}},{}],46:[function(t,e,r){"use strict";var n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,i=Object.prototype.propertyIsEnumerable;function s(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}e.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},r=0;r<10;r++)e["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach((function(t){n[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var r,a,c=s(t),u=1;u<arguments.length;u++){for(var l in r=Object(arguments[u]))o.call(r,l)&&(c[l]=r[l]);if(n){a=n(r);for(var f=0;f<a.length;f++)i.call(r,a[f])&&(c[a[f]]=r[a[f]])}}return c}},{}],47:[function(t,e,r){var n=function(t){return t.replace(/^\s+|\s+$/g,"")},o=function(t){return"[object Array]"===Object.prototype.toString.call(t)};e.exports=function(t){if(!t)return{};for(var e={},r=n(t).split("\n"),i=0;i<r.length;i++){var s=r[i],a=s.indexOf(":"),c=n(s.slice(0,a)).toLowerCase(),u=n(s.slice(a+1));void 0===e[c]?e[c]=u:o(e[c])?e[c].push(u):e[c]=[e[c],u]}return e}},{}],48:[function(t,e,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function i(t){try{return encodeURIComponent(t)}catch(t){return null}}r.stringify=function(t,e){e=e||"";var r,o,s=[];for(o in"string"!=typeof e&&(e="?"),t)if(n.call(t,o)){if((r=t[o])||null!=r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;s.push(o+"="+r)}return s.length?e+s.join("&"):""},r.parse=function(t){for(var e,r=/([^=?#&]+)=?([^&]*)/g,n={};e=r.exec(t);){var i=o(e[1]),s=o(e[2]);null===i||null===s||i in n||(n[i]=s)}return n}},{}],49:[function(t,e,r){"use strict";e.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},{}],50:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./util/canReportError"),o=t("./util/toSubscriber"),i=t("./symbol/observable"),s=t("./util/pipe"),a=t("./config"),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=o.toSubscriber(t,e,r);if(n?i.add(n.call(i,this.source)):i.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),n.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=u(e))((function(e,n){var o;o=r.subscribe((function(e){try{t(e)}catch(t){n(t),o&&o.unsubscribe()}}),n,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[i.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:s.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))((function(t,r){var n;e.subscribe((function(t){return n=t}),(function(t){return r(t)}),(function(){return t(n)}))}))},t.create=function(e){return new t(e)},t}();function u(t){if(t||(t=a.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}r.Observable=c},{"./config":54,"./symbol/observable":57,"./util/canReportError":60,"./util/pipe":66,"./util/toSubscriber":67}],51:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./config"),o=t("./util/hostReportError");r.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;o.hostReportError(t)},complete:function(){}}},{"./config":54,"./util/hostReportError":61}],52:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("./util/isFunction"),s=t("./Observer"),a=t("./Subscription"),c=t("../internal/symbol/rxSubscriber"),u=t("./config"),l=t("./util/hostReportError"),f=function(t){function e(r,n,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=s.empty;break;case 1:if(!r){i.destination=s.empty;break}if("object"==typeof r){r instanceof e?(i.syncErrorThrowable=r.syncErrorThrowable,i.destination=r,r.add(i)):(i.syncErrorThrowable=!0,i.destination=new p(i,r));break}default:i.syncErrorThrowable=!0,i.destination=new p(i,r,n,o)}return i}return o(e,t),e.prototype[c.rxSubscriber]=function(){return this},e.create=function(t,r,n){var o=new e(t,r,n);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(a.Subscription);r.Subscriber=f;var p=function(t){function e(e,r,n,o){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return i.isFunction(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.empty&&(u=Object.create(r),i.isFunction(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=n,c._complete=o,c}return o(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;u.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=u.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):l.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;l.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};u.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),u.config.useDeprecatedSynchronousErrorHandling)throw t;l.hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!u.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return u.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(l.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(f);r.SafeSubscriber=p},{"../internal/symbol/rxSubscriber":58,"./Observer":51,"./Subscription":53,"./config":54,"./util/hostReportError":61,"./util/isFunction":64}],53:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./util/isArray"),o=t("./util/isObject"),i=t("./util/isFunction"),s=t("./util/UnsubscriptionError"),a=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var e;if(!this.closed){var r=this._parentOrParents,a=this._ctorUnsubscribe,u=this._unsubscribe,l=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof t)r.remove(this);else if(null!==r)for(var f=0;f<r.length;++f)r[f].remove(this);if(i.isFunction(u)){a&&(this._unsubscribe=void 0);try{u.call(this)}catch(t){e=t instanceof s.UnsubscriptionError?c(t.errors):[t]}}if(n.isArray(l)){f=-1;for(var p=l.length;++f<p;){var d=l[f];if(o.isObject(d))try{d.unsubscribe()}catch(t){e=e||[],t instanceof s.UnsubscriptionError?e=e.concat(c(t.errors)):e.push(t)}}}if(e)throw new s.UnsubscriptionError(e)}},t.prototype.add=function(e){var r=e;if(!e)return t.EMPTY;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var o=r._parentOrParents;if(null===o)r._parentOrParents=this;else if(o instanceof t){if(o===this)return r;r._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return r;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.EMPTY=((e=new t).closed=!0,e),t}();function c(t){return t.reduce((function(t,e){return t.concat(e instanceof s.UnsubscriptionError?e.errors:e)}),[])}r.Subscription=a},{"./util/UnsubscriptionError":59,"./util/isArray":63,"./util/isFunction":64,"./util/isObject":65}],54:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=!1;r.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},{}],55:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber");r.filter=function(t,e){return function(r){return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.predicate,this.thisArg))},t}(),a=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.count=0,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(i.Subscriber)},{"../Subscriber":52}],56:[function(t,e,r){"use strict";var n,o=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(r,"__esModule",{value:!0});var i=t("../Subscriber");r.map=function(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new s(t,e))}};var s=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.project,this.thisArg))},t}();r.MapOperator=s;var a=function(t){function e(e,r,n){var o=t.call(this,e)||this;return o.project=r,o.count=0,o.thisArg=n||o,o}return o(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(i.Subscriber)},{"../Subscriber":52}],57:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},{}],58:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),r.$$rxSubscriber=r.rxSubscriber},{}],59:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}();r.UnsubscriptionError=n},{}],60:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subscriber");r.canReportError=function(t){for(;t;){var e=t,r=e.closed,o=e.destination,i=e.isStopped;if(r||i)return!1;t=o&&o instanceof n.Subscriber?o:null}return!0}},{"../Subscriber":52}],61:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.hostReportError=function(t){setTimeout((function(){throw t}),0)}},{}],62:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.identity=function(t){return t}},{}],63:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},{}],64:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=function(t){return"function"==typeof t}},{}],65:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.isObject=function(t){return null!==t&&"object"==typeof t}},{}],66:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("./identity");function o(t){return 0===t.length?n.identity:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}r.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return o(t)},r.pipeFromArray=o},{"./identity":62}],67:[function(t,e,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=t("../Subscriber"),o=t("../symbol/rxSubscriber"),i=t("../Observer");r.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[o.rxSubscriber])return t[o.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(i.empty)}},{"../Observer":51,"../Subscriber":52,"../symbol/rxSubscriber":58}],68:[function(t,e,r){"use strict";var n=t("url");e.exports=function(t,e,r){if(t===e)return!0;var o=n.parse(t,!1,!0),i=n.parse(e,!1,!0),s=0|o.port||("https"===o.protocol?443:80),a=0|i.port||("https"===i.protocol?443:80),c={proto:o.protocol===i.protocol,hostname:o.hostname===i.hostname,port:s===a};return c.proto&&c.hostname&&(c.port||r)}},{url:69}],69:[function(t,e,r){"use strict";var n=/^(?:(?:(?:([^:\/#\?]+:)?(?:(?:\/\/)((?:((?:[^:@\/#\?]+)(?:\:(?:[^:@\/#\?]+))?)@)?(([^:\/#\?\]\[]+|\[[^\/\]@#?]+\])(?:\:([0-9]+))?))?)?)?((?:\/?(?:[^\/\?#]+\/+)*)(?:[^\?#]*)))?(\?[^#]+)?)(#.*)?/;e.exports={regex:n,parse:function(t){var e=n.exec(t);return e?{protocol:(e[1]||"").toLowerCase()||void 0,hostname:(e[5]||"").toLowerCase()||void 0,port:e[6]||void 0}:{}}}},{}],70:[function(t,e,r){(function(r){(function(){"use strict";var n=t("requires-port"),o=t("querystringify"),i=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,s=/[\n\r\t]/g,a=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,c=/:\d+$/,u=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,l=/^[a-zA-Z]:/;function f(t){return(t||"").toString().replace(i,"")}var p=[["#","hash"],["?","query"],function(t,e){return b(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],d={hash:1,query:1};function h(t){var e,n=("undefined"!=typeof window?window:void 0!==r?r:"undefined"!=typeof self?self:{}).location||{},o={},i=typeof(t=t||n);if("blob:"===t.protocol)o=new v(unescape(t.pathname),{});else if("string"===i)for(e in o=new v(t,{}),d)delete o[e];else if("object"===i){for(e in t)e in d||(o[e]=t[e]);void 0===o.slashes&&(o.slashes=a.test(t.href))}return o}function b(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function y(t,e){t=(t=f(t)).replace(s,""),e=e||{};var r,n=u.exec(t),o=n[1]?n[1].toLowerCase():"",i=!!n[2],a=!!n[3],c=0;return i?a?(r=n[2]+n[3]+n[4],c=n[2].length+n[3].length):(r=n[2]+n[4],c=n[2].length):a?(r=n[3]+n[4],c=n[3].length):r=n[4],"file:"===o?c>=2&&(r=r.slice(2)):b(o)?r=n[4]:o?i&&(r=r.slice(2)):c>=2&&b(e.protocol)&&(r=n[4]),{protocol:o,slashes:i||b(o),slashesCount:c,rest:r}}function v(t,e,r){if(t=(t=f(t)).replace(s,""),!(this instanceof v))return new v(t,e,r);var i,a,c,u,d,g,m=p.slice(),w=typeof e,_=this,O=0;for("object"!==w&&"string"!==w&&(r=e,e=null),r&&"function"!=typeof r&&(r=o.parse),i=!(a=y(t||"",e=h(e))).protocol&&!a.slashes,_.slashes=a.slashes||i&&e.slashes,_.protocol=a.protocol||e.protocol||"",t=a.rest,("file:"===a.protocol&&(2!==a.slashesCount||l.test(t))||!a.slashes&&(a.protocol||a.slashesCount<2||!b(_.protocol)))&&(m[3]=[/(.*)/,"pathname"]);O<m.length;O++)"function"!=typeof(u=m[O])?(c=u[0],g=u[1],c!=c?_[g]=t:"string"==typeof c?~(d="@"===c?t.lastIndexOf(c):t.indexOf(c))&&("number"==typeof u[2]?(_[g]=t.slice(0,d),t=t.slice(d+u[2])):(_[g]=t.slice(d),t=t.slice(0,d))):(d=c.exec(t))&&(_[g]=d[1],t=t.slice(0,d.index)),_[g]=_[g]||i&&u[3]&&e[g]||"",u[4]&&(_[g]=_[g].toLowerCase())):t=u(t,_);r&&(_.query=r(_.query)),i&&e.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==e.pathname)&&(_.pathname=function(t,e){if(""===t)return e;for(var r=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=r.length,o=r[n-1],i=!1,s=0;n--;)"."===r[n]?r.splice(n,1):".."===r[n]?(r.splice(n,1),s++):s&&(0===n&&(i=!0),r.splice(n,1),s--);return i&&r.unshift(""),"."!==o&&".."!==o||r.push(""),r.join("/")}(_.pathname,e.pathname)),"/"!==_.pathname.charAt(0)&&b(_.protocol)&&(_.pathname="/"+_.pathname),n(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(~(d=_.auth.indexOf(":"))?(_.username=_.auth.slice(0,d),_.username=encodeURIComponent(decodeURIComponent(_.username)),_.password=_.auth.slice(d+1),_.password=encodeURIComponent(decodeURIComponent(_.password))):_.username=encodeURIComponent(decodeURIComponent(_.auth)),_.auth=_.password?_.username+":"+_.password:_.username),_.origin="file:"!==_.protocol&&b(_.protocol)&&_.host?_.protocol+"//"+_.host:"null",_.href=_.toString()}v.prototype={set:function(t,e,r){var i=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(r||o.parse)(e)),i[t]=e;break;case"port":i[t]=e,n(e,i.protocol)?e&&(i.host=i.hostname+":"+e):(i.host=i.hostname,i[t]="");break;case"hostname":i[t]=e,i.port&&(e+=":"+i.port),i.host=e;break;case"host":i[t]=e,c.test(e)?(e=e.split(":"),i.port=e.pop(),i.hostname=e.join(":")):(i.hostname=e,i.port="");break;case"protocol":i.protocol=e.toLowerCase(),i.slashes=!r;break;case"pathname":case"hash":if(e){var s="pathname"===t?"/":"#";i[t]=e.charAt(0)!==s?s+e:e}else i[t]=e;break;case"username":case"password":i[t]=encodeURIComponent(e);break;case"auth":var a=e.indexOf(":");~a?(i.username=e.slice(0,a),i.username=encodeURIComponent(decodeURIComponent(i.username)),i.password=e.slice(a+1),i.password=encodeURIComponent(decodeURIComponent(i.password))):i.username=encodeURIComponent(decodeURIComponent(e))}for(var u=0;u<p.length;u++){var l=p[u];l[4]&&(i[l[1]]=i[l[1]].toLowerCase())}return i.auth=i.password?i.username+":"+i.password:i.username,i.origin="file:"!==i.protocol&&b(i.protocol)&&i.host?i.protocol+"//"+i.host:"null",i.href=i.toString(),i},toString:function(t){t&&"function"==typeof t||(t=o.stringify);var e,r=this,n=r.host,i=r.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var s=i+(r.protocol&&r.slashes||b(r.protocol)?"//":"");return r.username?(s+=r.username,r.password&&(s+=":"+r.password),s+="@"):r.password?(s+=":"+r.password,s+="@"):"file:"!==r.protocol&&b(r.protocol)&&!n&&"/"!==r.pathname&&(s+="@"),(":"===n[n.length-1]||c.test(r.hostname)&&!r.port)&&(n+=":"),s+=n+r.pathname,(e="object"==typeof r.query?t(r.query):r.query)&&(s+="?"!==e.charAt(0)?"?"+e:e),r.hash&&(s+=r.hash),s}},v.extractProtocol=y,v.location=h,v.trimLeft=f,v.qs=o,e.exports=v}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{querystringify:48,"requires-port":49}]},{},[17])(17)}));
